{% extends 'layout.html' %}

{% block title %}Upload{% endblock %}

{% block content %}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <h2 class="text-center mt-5">Upload File</h2>
      <form id="upload-form" method="POST" enctype="multipart/form-data">
        <div class="form-group text-center">
          <!-- Wrapper to center the file input and label -->
          <div class="file-input-wrapper text-center">
            <input
              type="file"
              class="form-control-file text-center"
              id="file-input"
              name="file"
              required
            />
          </div>
          <div class="text-center mt-3">
            <button type="submit" id="upload-button" class="btn btn-primary">
              Upload
            </button>
          </div>
        </div>
      </form>
      <div
        id="progress-container"
        class="mt-3"
        style="display:none;"
      >
        <progress
          id="progress-bar"
          value="0"
          max="100"
          class="form-control"
        ></progress>
        <div id="progress-text" class="text-center mt-2"></div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var fileInput = document.getElementById('file-input');
    var fileLabel = document.getElementById('file-label');

    fileLabel.addEventListener('click', function () {
      fileInput.click(); // Trigger file input click when label is clicked
    });

    fileInput.addEventListener('change', function () {
      var fileName = fileInput.files.length > 0
        ? fileInput.files[0].name
        : 'No file chosen';
      fileLabel.textContent = fileName;
    });
  });
</script>
